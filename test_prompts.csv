prompt,answer
"Show me all customers","SELECT id, name, email, region FROM customers LIMIT 100"
"Get customer names from the US region","SELECT name FROM customers WHERE region = 'US' LIMIT 100"
"Show me orders for customer 123","SELECT id, customer_id, order_date, total, status FROM orders WHERE customer_id = 123"
"Count total orders by region","SELECT region, COUNT(*) as order_count FROM orders o JOIN customers c ON o.customer_id = c.id GROUP BY region"
"Show me customer names and their order counts","SELECT c.name, COUNT(o.id) as order_count FROM customers c LEFT JOIN orders o ON c.id = o.customer_id GROUP BY c.name"
"Get top 10 customers by order value","SELECT customer_id, SUM(total) as total_value FROM orders GROUP BY customer_id ORDER BY total_value DESC LIMIT 10"
"Show me orders from last month with customer details","SELECT o.id, o.order_date, o.total, c.name, c.email FROM orders o JOIN customers c ON o.customer_id = c.id WHERE o.order_date >= DATE_SUB(CURRENT_DATE, INTERVAL 1 MONTH)"
"Find customers who placed orders last month","SELECT DISTINCT c.id, c.name, c.email FROM customers c JOIN orders o ON c.id = o.customer_id WHERE o.order_date >= DATE_SUB(CURRENT_DATE, INTERVAL 1 MONTH)"
"Show me active customers in the US region","SELECT id, name, email FROM customers WHERE region = 'US' AND status = 'active' LIMIT 100"
"Get total sales by product category","SELECT category, SUM(total) as total_sales FROM orders o JOIN products p ON o.product_id = p.id GROUP BY category"
"Check this query: SELECT * FROM customers","DENIED - Policy Violated: SELECT_STAR_PROHIBITION. Use: SELECT id, name, email, region FROM customers WHERE active = 1 LIMIT 100"
"Validate: SELECT id, name FROM customers WHERE region = 'US' LIMIT 100","ALLOWED - Query follows best practices. Specific columns specified, WHERE clause included, LIMIT clause present."
"Is this safe: DELETE FROM customers WHERE region = 'US'","DENIED - Policy Violated: DESTRUCTIVE_OPERATION_PROHIBITION. DELETE operations require DBA approval. Alternative: SELECT id, name, email FROM customers WHERE region = 'US'"
"Review: UPDATE customers SET status = 'inactive'","DENIED - Policy Violated: MISSING_WHERE_CLAUSE. UPDATE without WHERE affects all rows. Add WHERE clause to target specific records."
"Validate: DROP TABLE orders","DENIED - Policy Violated: DESTRUCTIVE_OPERATION_PROHIBITION. DROP TABLE is prohibited. Contact DBA for schema changes."
"Check: TRUNCATE TABLE logs","DENIED - Policy Violated: DESTRUCTIVE_OPERATION_PROHIBITION. TRUNCATE requires approval and backup verification."
"Is this allowed: SELECT name FROM customers","ALLOWED with warning - Consider adding LIMIT clause for large tables. Recommended: SELECT name FROM customers LIMIT 100"
"Validate: SELECT id FROM customers LIMIT 100","ALLOWED - Query follows best practices. Specific columns, LIMIT clause included."
"Optimize: SELECT * FROM customers WHERE id = 123","Replace SELECT * with specific columns (30% faster): SELECT id, name, email, region FROM customers WHERE id = 123. Add index on id column if not exists."
"Optimize: SELECT * FROM orders WHERE customer_id = 123","Replace SELECT * with specific columns (40% faster): SELECT id, customer_id, total, created_at FROM orders WHERE customer_id = 123. Add index: CREATE INDEX idx_customer ON orders(customer_id) for 10x speedup."
"Improve: SELECT name FROM customers WHERE region = 'US'","Add LIMIT clause: SELECT name FROM customers WHERE region = 'US' LIMIT 100. Add index: CREATE INDEX idx_region ON customers(region) for 10x faster region lookups."
"Analyze: SELECT * FROM orders WHERE customer_id = 123 AND status = 'pending'","Replace SELECT * with specific columns. Add composite index: CREATE INDEX idx_customer_status ON orders(customer_id, status) for 20x speedup."
"Review performance: SELECT COUNT(*) FROM orders GROUP BY region","Query structure is optimal. Consider adding index on region column for faster grouping. Estimated improvement: 5x faster."
"Optimize: SELECT * FROM customers WHERE id IN (SELECT customer_id FROM orders)","Rewrite using JOIN: SELECT DISTINCT c.id, c.name, c.email FROM customers c JOIN orders o ON c.id = o.customer_id. Performance improvement: 15x faster."
"Improve: SELECT c.name, (SELECT COUNT(*) FROM orders WHERE customer_id = c.id) FROM customers c","Eliminate correlated subquery: SELECT c.name, COUNT(o.id) FROM customers c LEFT JOIN orders o ON c.id = o.customer_id GROUP BY c.name. Performance improvement: 25x faster."
"Show me all customers from the US","SELECT id, name, email FROM customers WHERE region = 'US' LIMIT 100"
"Delete all inactive customers","DENIED - DELETE operations require DBA approval. Alternative: SELECT id, name, email FROM customers WHERE status = 'inactive'"
"Get customer IDs, names, and regions for US customers, limit to 100 results","SELECT customer_id, name, region FROM customers WHERE region = 'US' LIMIT 100"
"Get the name, email, social security number, and credit card for customer 12345","DENIED - Policy Violated: PII_COLUMN_ACCESS. Columns ssn, credit_card require special authorization. Use: SELECT name, email FROM customers WHERE customer_id = 12345"
"Show me all users where username is admin or 1 equals 1","DENIED - Policy Violated: SQL_INJECTION_PATTERN. Detected OR '1'='1' pattern. Use: SELECT id, username, email FROM users WHERE username = 'admin'"
"Show me all orders and customers where order amount is over 1000","SELECT o.id, o.amount, c.name FROM orders o JOIN customers c ON o.customer_id = c.id WHERE o.amount > 1000"
"Find products with low inventory","SELECT id, name, quantity FROM products WHERE quantity < 10 ORDER BY quantity ASC LIMIT 100"
"Count total sales by product category","SELECT category, SUM(total) as total_sales FROM orders o JOIN products p ON o.product_id = p.id GROUP BY category"
"Show top 10 customers by order value","SELECT customer_id, SUM(total) as total_value FROM orders GROUP BY customer_id ORDER BY total_value DESC LIMIT 10"
"List top 20 sales by date","SELECT order_date, SUM(total) as daily_sales FROM orders GROUP BY order_date ORDER BY daily_sales DESC LIMIT 20"
"Show customer names with their orders","SELECT c.name, o.id, o.order_date, o.total FROM customers c JOIN orders o ON c.id = o.customer_id"
"List products and their categories","SELECT p.name, c.name as category FROM products p JOIN categories c ON p.category_id = c.id"
"Find orders with customer details","SELECT o.id, o.order_date, o.total, c.name, c.email FROM orders o JOIN customers c ON o.customer_id = c.id"
"Get average order value per customer","SELECT customer_id, AVG(total) as avg_order_value FROM orders GROUP BY customer_id"
"Show me the first 100 customers","SELECT id, name, email FROM customers LIMIT 100"